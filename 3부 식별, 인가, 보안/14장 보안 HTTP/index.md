#### 14.1 HTTP를 안전하게 만들기
- 웹은 안전한 방식의 HTTP를 필요로 하며 그에 따라 HTTP와 디지털 암호화 기술을 결합해 사용한다. 또한, 다음을 제공해 줄 수 있는 HTTP 보안 기술이 필요하다.
1. 서버 인증 - 클라이언트는 자신이 위조된 서버가 아닌 진짜와 이야기하고 있음을 알 수 있어야 한다.
2. 클라이언트 인증 - 서버는 자신이 가짜가 아닌 진짜 사용자와 이야기하고 있음을 알 수 있어야 한다.
3. 무결성 - 클라이언트와 서버는 그들이 데이터가 위조되는 것으로부터 안전해야 한다.
4. 암호화 - 클라이언트와 서버는 도청에 대한 걱정없이 서로 대화할 수 있어야 한다.
5. 효율 - 저렴한 클라이언트와 서버도 이용할 수 있도록 알고리즘은 충분히 빨라야 한다.
6. 편재성 - 프로토콜은 거의 모든 클라이언트와 서버에서 지원되어야 한다.
7. 관리상 확장성 - 누구든 어디서든 즉각적인 보안 통신을 할 수 있어야 한다.
8. 적응성 - 현재 알려진 최선의 보안 방법을 지원해야 한다.
9. 사회적 생존성 - 사회의 문화적, 정치적 요구를 만족시켜야 한다.

- HTTPS는 HTTP를 안전하게 만드는 가장 인기있는 방식이다. 
- HTTPS를 사용할 때, 모든 HTTP 요청/응답 데이터는 네트워크로 보내지기 전에 암호화된다.
- HTTPS는 HTTP 하부에 전송레벨 암호보안 계층을 제공함으로써 동작한다. 이는 SSL(Secure Sockets Layer) 혹은 TLS(Transport Layer Security)를 이용해 구현된다.

#### 14.2 디지털 암호학
- SSL 혹은 TLS에서 이용되는 암호 인코딩에 관한 배경지식
    - 암호 : 텍스트(평문)를 아무나 읽지 못하도록 인코딩하는 알고리즘
    - 키 : 암호의 동작을 변경하는 숫자로된 매개변수
    - 대칭키 암호 체계 : 인코딩/디코딩에 같은 키를 사용하는 알고리즘
    - 비대칭키 암포 체계 : 인코딩/디코딩에 다른 키를 사용하는 알고리즘
    - 공개키 암호법 : 비밀 메세지를 전달하는 수백만 대의 컴퓨터를 쉽게 만들 수 있는 시스템 -> (공개키 암호법으로 인해 많은 클라이언트가 안전한 트랜잭션을 할 수 있게 되었다.)
    - 디지털 서명 : 메세지가 위조, 변조되지 않았음을 입증하는 체크섬
    - 디지털 인증서 : 신뢰할 만한 조직에 의해 서명되고 검증된 신원 확인 정보
- 암호법은 메세지를 암호화하는 것 뿐 아니라, 메세지 변조 방지, 메세지나 트랜잭션의 저자를 증명하는 데도 사용될 수 있다.
- 대부분의 암호 기계에는 암호의 동작방식을 변경할 수 있는 큰 숫자로 된 다이얼이 달려있다. 올바른 다이얼 설정(키 값)이 없이는 디코더가 동작하지 않을 것이다.
- 이런 암호 매개변수를 키라고 부르며, 올바른 디코딩을 하려면 올바른 키가 필요하고, 암호 키는 하나의 암호 기계를 여러 가상 암호 기계의 집합처럼 만들어준다. 
- 가상 암호 기계는 각각 다른 키를 가지면서 제각각 다르게 동작한다.
- * 실제로 기계의 로직을 알게되면 암호를 깨는데 도움이 되는 경우가 많은데, 현대 암호화 알고리즘은 대부분 키를 사용하며, 알고리즘이 공개적으로 알려져 있다고 하더라도 암호를 풀 패턴을 찾아내기 어렵도록 설계된다.

#### 14.3 대칭키 암호법
- 대칭키 암호는 인코딩할때 사용한 키가 디코딩할 때와 같다. 
- 발송자와 수신자가 통신을 위해 비밀 키를 공유할 필요가 있고, 발송자는 공유된 키로 메세지를 암호화하고, 수신자는 암호문을 수신자에게 발송한다. 수신자는 암호문을 받은 뒤 공유된 키로 원래의 평문을 복원하기 위해 해독 함수를 적용한다.
- 비밀키가 누설되서는 안되며, 인코딩,디코딩 알고리즘은 대부분 공개적으로 알려져 있고 키만이 유일한 비밀이다.
- 좋은 암호 알고리즘은 우주에 존재하는 모든 키 값을 대입해보는 것 외에 해독할 다른 방법이 없게 만든다. 무차별로 모든 키 값을 대입해보는 공격을 열거 공격(enumeration attack)이라고 한다.
- 대칭키 암호의 단점은 발송자,수신자가 대화하기 위해 공유키를 가져야 한다는 것이다. 비밀키를 발급받고, 공유된 비밀키를 기억할 방법이 필요하다. 또한, 여러 발/수신자 사이의 키들을 각각 모두 기억해야한다.
(만약 n개의 노드가 있고, 각 노드가 상대n-1와 대화한다고 하면 대략 총 n^2개의 비밀키가 필요하며, 이는 관리하기 매우 어렵다.)

#### 14.4 공개키 암호법
- 한 쌍의 호스트가 하나의 인코딩/디코딩 키를 사용하는 대신, 공개키 암호 방식은 두 개의 비대칭 키를 사용한다. 하나는 호스트의 메세지를 인코딩하기 위한 것, 다른 하나는 그 호스트의 메세지를 디코딩하기 위한 것이다.
- 인코딩 키는 모두를 위해 공개되어있다. 하지만 호스트만이 개인 디코딩 키를 알고 있다.
- 이로써 대칭 키의 쌍이 n^2로 폭발적으로 증가하는 것을 피할 수 있다.
- 공개키 암호화 기술은 보안 프로토콜을 전 세계의 모든 컴퓨터 사용자에게 적용하는 것을 가능하게 했다.
- 또한, 누구나 공개키만 알면 그 키에 대응되는 공개 서버에 안전하게 메세지를 보낼 수 있게 해주었으며 두 노드가 의사소통할 때 개인 키에 대한 협상을 먼저 할 필요가 없게 해주었다.
- 그러나 공개키 암호방식은 계산이 느린 경향이 있어, 실제로는 대칭과 비대칭 방식을 섞은 것이 사용된다. 
(노드들 사이의 의사소통 채널을 수립할 대는 공개키 방식을, 만들어진 안전한 채널을 통해 임시의 무작위 (빠른)대칭키를 생성,교환해 이후 나머지 데이터를 암호화해 사용한다.

