## 14장 보안 HTTP

### 14.8 진짜 HTTPS 클라이언트

##### 14.8.1 OpenSSL
SSL과 TLS의 가장 인기있는 오픈소스 라이브러리. 

##### 14.8.2 간단한 HTTPS 클라이언트

1.  SSL 라이브러리 초기화
2.  서버의 호스트명의 IP 주소로 변환
3.  서버의 443 포트로 TCP 커넥션 형성
4.  TCP 커넥션을 통해 SSL 핸드쉐이크
5.  핸드쉐이크 완료, SSL을 통해 HTTP 요청 전송
6.  SSL 스택에서 HTTP 응답 읽기
7.  커넥션 닫기

##### 14.8.3 우리의 단순한 OpenSSL 클라이언트 실행하기



### 14.9 프락시를 통한 보안 트래픽 터널링

- 클라이언트가 서버로 보낼 데이터를 암호화 했기 때문에 프록시는 HTTP 헤더를 읽을 수 없고, HTTP 헤더를 읽을 수 없으면 요청을 어디로 보내야 하는지 알 수 없다.
- HTTPS와 프록시가 잘 동작하기 위해서 클라이언트가 프록시에게 어디와 접속하는지 알려주는 방법을 수정해야 한다.
- HTTPS SSL 터널링 프로토콜을 사용하여 연결 가능
	- 클라이언트는 프록시에게 연결하고자하는 호스트와 포트를 알려주고
	- 클라이언트는 프록시가 읽을 수 있도록 암호화 전에 평문으로 알려준다.
	- `CONNECT` 확장 메소드를 사용해서 평문으로 된 종단 정보를 전달해 프락시에게 호스트와 포트 연결을 요구하고 프록시는 터널을 생성해줌
```http
CONNECT home.netscape.com:443 HTTP/1.0
User-agent: Mozilla/1.1N

<핸드셰이크 성공 이후 SSL로 암호화 된 데이터가 이 다음에 온다.>
```
