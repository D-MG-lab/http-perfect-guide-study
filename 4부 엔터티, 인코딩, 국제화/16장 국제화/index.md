
### 16.4 언어 태그와 HTTP

- 언어 태그는 언어에 이름을 붙이기 위한 짧고 표준화된 문자열.

#### 16.4.1 Content-Language 헤더
- Content-Language 엔터니 헤더 필드는 엔터티가 어떤 언어 사용자를 대상으로 하고 있는지 서술.
```http
Content-Language: fr
```

- 다중 언어 등록도 가능하다
```http
Content-Language: en, fr
```

#### 16.4.2 Accept-Language 헤더
- 클라이언트의 언어 제약과 선호하는 언어 정보를 서술
- 클라이언트는 자신이 이해할 수 있는 콘텐츠를 요청하기 위해 `Accept-Language`와 `Accept-Charset`을 사용

#### 16.4.3 언어 태그의 종류
- RFC 3066 "Tags for the Identification of Languages"로 문서화 된 표준화 문법을 갖고 있다.

#### 16.4.4 서브태그
- 하이픈(-)으로 구분된 서브태그로 구분
<img width="471" alt="서브태그" src="https://user-images.githubusercontent.com/87509645/209474467-8432e958-e158-41df-8635-2ed53ff5d90e.png">


#### 16.4.5 대소문자의 구분 및 표현
- 모든 태그는 대소문자 구분 x
- 관용적으로 언어는 소문자, 국가는 대문자 사용
- `fr`은 프랑스어 `FR`은 프랑스를 의미

#### 16.4.6 IANA 언어 태그 등록
- 첫 번째와 두 번째 언어 서브태그 값은 표준 문서들과 조직에 의해 정의
- 표준 국가와 언어 값으로 구성될 수 없는 언어 태그들만이 등록될 필요가 있다.

#### 16.4.7 첫 번째 서브태그: 이름공간
- ISO 639 표준 언어 집합에서 선택된 표준화된 언어토큰

	> - 두 글자: ISO 639, 639-1 표준의 언어코드
	> - 세 글자: ISO 639-2 표준과 화장에 열거된 언어 코드
	> - 'i': IANA 등록
	> - 'x': 비표준 확장 서브태그

#### 16.4.8 두 번째 서브태그: 이름공간
- 보통 ISO 3166 국가 코드와 지역 표준 집합에서 선택된 표준화 된 국가 토큰
- IANA에 등록된 다른 문자열일 수도 있다.

- 규칙:
	> - 두 글자: ISO 3166에 정의된 국가/지역
	> - 3~8글자: IANA에 등록
	> - 한 글자: 오류

#### 16.4.9 나머지 서브태그: 이름공간
세 번째와 그 이후의 서브태그에 대한 규칙은 **8자 이하의 알파벳과 숫자**만 존재.

#### 16.4.10 선호 언어 설정하기
- 웹브라우저 프로필에서 선호 언어 설정 가능

#### 16.4.11 언어태그 참조표
- 부록 G 참고


### 16.5 국제화 된 URI
- URI는 국제화를 그다지 지원하지 않는다. 
- 오늘날의 URI는 US-ASCII의 부분집합으로 구성됨

#### 16.5.1 국제적 가독성 vs 의미있는 문자들
- URI 설계자들은 **리소스 식별자의 가독성과 공유 가능성의 보장**이 대부분의 의미있는 문자들로 구성될 수 있도록 하는 것보다 더 중요하다고 여겼다.

#### 16.5.2 URI에서 사용될 수 있는 문자들
- 예약되지 않은 문자: 일반적으로 사용 가능
- 예약된 문자: URI에서 특별한 의미를 지님. 일반적으로는 사용 불가
- 이스케이프 문자

<img width="300" alt="URI에서 사용될 수 있는 문자들" src="https://user-images.githubusercontent.com/87509645/209552009-bb60c5a3-9000-450a-8139-34d74e8249ec.png">

#### 16.5.3 이스케이핑과 역이스케이핑
- URI 이스케이프는 예약된 문자나 지원하지 않는 문자를 안전하게 URI에 삽입할 수 있게 한다.
- `%` + 두 개의 16진수 값 으로 구성
- HTTP 애플리케이션은 URI를 데이터가 필요로 할 때 언이스케이핑 한다.  
	- 두 번 언이스케이핑 되지 않도록 주의
	- 이스케이프로 사용되지 않은 문자를 이스케이프 문자로 처리해 데이터의 손실이 발생

#### 16.5.4 국제 문자들을 이스케이핑 하기
- 이스케이프 값들은 모두 US-ASCII 코드 범위 내(0~127)에 있어야 한다.

#### 16.5.5 URI에서의 모달 전환
- 몇몇 URI는 다른 문자집합의 글자를 표현하기 위해 ASCII 문자열을 사용.
- **현재 URI는 그다지 국제화에 친화적이지 않다**

### 16.6 기타 고려사항

#### 16.6.1 헤더와 명세에 맞지 않는 데이터
- HTTP 헤더는 반드시 US-ASCII 문자집합의 글자로만 이루어져야 한다.

#### 16.6.2 날짜
- HTTP 명세는 올바른 GMT 날짜 형식을 명확히 정의하고 있지만 모든 애플리케이션이 규칙을 따르고 있지 않음에 주의
	- 클라이언트는 명세에 맞지 않아도 관대하게 처리
	- 서버는 날짜 형식에 대해 보수적으로 다루어야 한다

#### 16.6.3 도메인 이름
- 국제화 문자를 포함하는 도메인 이름을 '국제화 도메인 이름(Internationalizing Domain Name)'이라고 하는데 대부분의 브라우저는 퓨니코드 (punycode)를 통해 이를 지원한다.
- 퓨니코드란 유니코드 문자열을 호스트 명에서 사용 가능한 문자만으로 이루어진 문자열로 변환하는 기법.
- 웹 브라우저는 이를 이용해 사용자가 입력한 다국어 도메인 이름을 알파벳과 숫자 등으로 된 도메인 이름으로 변환.